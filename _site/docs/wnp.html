<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 4 Work in progress | Using GIS for invasive species research</title>
  <meta name="description" content="Everything you need to start using GIS in RMarkdown/bookdown projects." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content=" 4 Work in progress | Using GIS for invasive species research" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ssnhub.com/Creating-maps-in-R/" />
  <meta property="og:image" content="https://ssnhub.com/Creating-maps-in-R/images/cover.png" />
  <meta property="og:description" content="Everything you need to start using GIS in RMarkdown/bookdown projects." />
  <meta name="github-repo" content="davan690/Creating-maps-in-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 4 Work in progress | Using GIS for invasive species research" />
  
  <meta name="twitter:description" content="Everything you need to start using GIS in RMarkdown/bookdown projects." />
  <meta name="twitter:image" content="https://ssnhub.com/Creating-maps-in-R/images/cover.png" />

<meta name="author" content="Anthony Davidson" />


<meta name="date" content="2019-09-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="divingin.html"/>
<link rel="next" href="contentadd.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
<script src="libs/leaflet-providers-1.1.17/leaflet-providers.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.2/leaflet-providers-plugin.js"></script>
<link href="libs/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet" />
<script src="libs/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script>
<script src="libs/leaflet-minimap-3.3.1/Minimap-binding.js"></script>
<link href="libs/leaflet-easybutton-1.3.1/easy-button.css" rel="stylesheet" />
<script src="libs/leaflet-easybutton-1.3.1/easy-button.js"></script>
<script src="libs/leaflet-easybutton-1.3.1/EasyButton-binding.js"></script>
<link href="libs/ionicons-2.0.1/ionicons.min.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">GIS in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#project-objectives"><i class="fa fa-check"></i><b>1.1</b> Project objectives</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#objective-one"><i class="fa fa-check"></i><b>1.1.1</b> Objective one</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#objective-one-1"><i class="fa fa-check"></i><b>1.1.2</b> Objective One</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#objective-two"><i class="fa fa-check"></i><b>1.1.3</b> Objective Two</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#objective-three"><i class="fa fa-check"></i><b>1.1.4</b> Objective Three</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#get-started"><i class="fa fa-check"></i><b>1.2</b> Get started…</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#packages"><i class="fa fa-check"></i><b>1.2.1</b> Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.0.1" data-path="intro.html"><a href="intro.html#nz-layers"><i class="fa fa-check"></i><b>2.0.1</b> NZ layers</a></li>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#data"><i class="fa fa-check"></i><b>2.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="divingin.html"><a href="divingin.html"><i class="fa fa-check"></i><b>3</b> Diving In</a><ul>
<li class="chapter" data-level="3.1" data-path="divingin.html"><a href="divingin.html#downloading"><i class="fa fa-check"></i><b>3.1</b> Downloading</a></li>
<li class="chapter" data-level="3.2" data-path="divingin.html"><a href="divingin.html#kml-to-tidy-dataset"><i class="fa fa-check"></i><b>3.2</b> <code>kml</code> to <code>tidy</code> dataset</a><ul>
<li class="chapter" data-level="3.2.1" data-path="divingin.html"><a href="divingin.html#save"><i class="fa fa-check"></i><b>3.2.1</b> Save</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wnp.html"><a href="wnp.html"><i class="fa fa-check"></i><b>4</b> Work in progress</a><ul>
<li class="chapter" data-level="4.0.1" data-path="wnp.html"><a href="wnp.html#static-maps"><i class="fa fa-check"></i><b>4.0.1</b> <span>Static maps</span></a></li>
<li class="chapter" data-level="4.1" data-path="wnp.html"><a href="wnp.html#my-notes"><i class="fa fa-check"></i><b>4.1</b> My notes</a></li>
<li class="chapter" data-level="4.2" data-path="wnp.html"><a href="wnp.html#building-maps-for-manuscripts"><i class="fa fa-check"></i><b>4.2</b> Building maps for manuscripts</a><ul>
<li class="chapter" data-level="4.2.1" data-path="wnp.html"><a href="wnp.html#first-tmap-attempt"><i class="fa fa-check"></i><b>4.2.1</b> First <code>tmap</code> attempt</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="contentadd.html"><a href="contentadd.html"><i class="fa fa-check"></i><b>5</b> Adding additional information</a><ul>
<li class="chapter" data-level="5.0.1" data-path="contentadd.html"><a href="contentadd.html#adding-points"><i class="fa fa-check"></i><b>5.0.1</b> Adding points</a></li>
<li class="chapter" data-level="5.0.2" data-path="contentadd.html"><a href="contentadd.html#plots"><i class="fa fa-check"></i><b>5.0.2</b> Plots</a></li>
<li class="chapter" data-level="5.1" data-path="contentadd.html"><a href="contentadd.html#coming"><i class="fa fa-check"></i><b>5.1</b> <em>coming</em></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="outputs.html"><a href="outputs.html"><i class="fa fa-check"></i><b>6</b> Outputs</a><ul>
<li class="chapter" data-level="6.0.1" data-path="outputs.html"><a href="outputs.html#a-single-location-on-a-map"><i class="fa fa-check"></i><b>6.0.1</b> A single location on a map</a></li>
<li class="chapter" data-level="6.0.2" data-path="outputs.html"><a href="outputs.html#leaflet-plot-options"><i class="fa fa-check"></i><b>6.0.2</b> Leaflet plot options</a></li>
<li class="chapter" data-level="6.1" data-path="outputs.html"><a href="outputs.html#my-notes-1"><i class="fa fa-check"></i><b>6.1</b> My Notes</a><ul>
<li class="chapter" data-level="6.1.1" data-path="outputs.html"><a href="outputs.html#extracting-mymaps-data"><i class="fa fa-check"></i><b>6.1.1</b> Extracting mymaps data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>7</b> Resources</a><ul>
<li class="chapter" data-level="7.1" data-path="resources.html"><a href="resources.html#a-single-location-on-a-map-1"><i class="fa fa-check"></i><b>7.1</b> A single location on a map</a></li>
<li class="chapter" data-level="7.2" data-path="resources.html"><a href="resources.html#leaflet-plots"><i class="fa fa-check"></i><b>7.2</b> Leaflet plots</a></li>
<li class="chapter" data-level="7.3" data-path="resources.html"><a href="resources.html#my-notes-2"><i class="fa fa-check"></i><b>7.3</b> My Notes</a></li>
<li class="chapter" data-level="7.4" data-path="resources.html"><a href="resources.html#downloading-1"><i class="fa fa-check"></i><b>7.4</b> Downloading</a></li>
<li class="chapter" data-level="7.5" data-path="resources.html"><a href="resources.html#using-basemaps"><i class="fa fa-check"></i><b>7.5</b> Using Basemaps</a><ul>
<li class="chapter" data-level="7.5.1" data-path="resources.html"><a href="resources.html#default-openstreetmap-tiles"><i class="fa fa-check"></i><b>7.5.1</b> Default (OpenStreetMap) Tiles</a></li>
<li class="chapter" data-level="7.5.2" data-path="resources.html"><a href="resources.html#third-party-tiles"><i class="fa fa-check"></i><b>7.5.2</b> Third-Party Tiles</a></li>
<li class="chapter" data-level="7.5.3" data-path="resources.html"><a href="resources.html#custom-tile-url-template"><i class="fa fa-check"></i><b>7.5.3</b> Custom Tile URL Template</a></li>
<li class="chapter" data-level="7.5.4" data-path="resources.html"><a href="resources.html#wms-tiles"><i class="fa fa-check"></i><b>7.5.4</b> WMS Tiles</a></li>
<li class="chapter" data-level="7.5.5" data-path="resources.html"><a href="resources.html#combining-tile-layers"><i class="fa fa-check"></i><b>7.5.5</b> Combining Tile Layers</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="resources.html"><a href="resources.html#choropleths"><i class="fa fa-check"></i><b>7.6</b> Choropleths</a><ul>
<li class="chapter" data-level="7.6.1" data-path="resources.html"><a href="resources.html#data-source"><i class="fa fa-check"></i><b>7.6.1</b> Data source</a></li>
<li class="chapter" data-level="7.6.2" data-path="resources.html"><a href="resources.html#basic-states-map"><i class="fa fa-check"></i><b>7.6.2</b> Basic states map</a></li>
<li class="chapter" data-level="7.6.3" data-path="resources.html"><a href="resources.html#adding-some-color"><i class="fa fa-check"></i><b>7.6.3</b> Adding some color</a></li>
<li class="chapter" data-level="7.6.4" data-path="resources.html"><a href="resources.html#adding-interaction"><i class="fa fa-check"></i><b>7.6.4</b> Adding interaction</a></li>
<li class="chapter" data-level="7.6.5" data-path="resources.html"><a href="resources.html#custom-info"><i class="fa fa-check"></i><b>7.6.5</b> Custom info</a></li>
<li class="chapter" data-level="7.6.6" data-path="resources.html"><a href="resources.html#legend"><i class="fa fa-check"></i><b>7.6.6</b> Legend</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="resources.html"><a href="resources.html#introduction"><i class="fa fa-check"></i><b>7.7</b> Introduction</a></li>
<li class="chapter" data-level="7.8" data-path="resources.html"><a href="resources.html#static-maps-1"><i class="fa fa-check"></i><b>7.8</b> Static maps</a><ul>
<li class="chapter" data-level="7.8.1" data-path="resources.html"><a href="resources.html#tmap-basics"><i class="fa fa-check"></i><b>7.8.1</b> tmap basics</a></li>
<li class="chapter" data-level="7.8.2" data-path="resources.html"><a href="resources.html#map-obj"><i class="fa fa-check"></i><b>7.8.2</b> Map objects</a></li>
<li class="chapter" data-level="7.8.3" data-path="resources.html"><a href="resources.html#aesthetics"><i class="fa fa-check"></i><b>7.8.3</b> Aesthetics</a></li>
<li class="chapter" data-level="7.8.4" data-path="resources.html"><a href="resources.html#color-settings"><i class="fa fa-check"></i><b>7.8.4</b> Color settings</a></li>
<li class="chapter" data-level="7.8.5" data-path="resources.html"><a href="resources.html#layouts"><i class="fa fa-check"></i><b>7.8.5</b> Layouts</a></li>
<li class="chapter" data-level="7.8.6" data-path="resources.html"><a href="resources.html#faceted-maps"><i class="fa fa-check"></i><b>7.8.6</b> Faceted maps</a></li>
<li class="chapter" data-level="7.8.7" data-path="resources.html"><a href="resources.html#inset-maps"><i class="fa fa-check"></i><b>7.8.7</b> Inset maps</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="resources.html"><a href="resources.html#animated-maps"><i class="fa fa-check"></i><b>7.9</b> Animated maps</a></li>
<li class="chapter" data-level="7.10" data-path="resources.html"><a href="resources.html#interactive-maps"><i class="fa fa-check"></i><b>7.10</b> Interactive maps</a></li>
<li class="chapter" data-level="7.11" data-path="resources.html"><a href="resources.html#mapping-applications"><i class="fa fa-check"></i><b>7.11</b> Mapping applications</a></li>
<li class="chapter" data-level="7.12" data-path="resources.html"><a href="resources.html#other-mapping-packages"><i class="fa fa-check"></i><b>7.12</b> Other mapping packages</a></li>
<li class="chapter" data-level="7.13" data-path="resources.html"><a href="resources.html#exercises"><i class="fa fa-check"></i><b>7.13</b> Exercises</a></li>
<li class="chapter" data-level="7.14" data-path="resources.html"><a href="resources.html#my-notes-3"><i class="fa fa-check"></i><b>7.14</b> My Notes</a></li>
<li class="chapter" data-level="7.15" data-path="resources.html"><a href="resources.html#a-single-location-on-a-map-2"><i class="fa fa-check"></i><b>7.15</b> A single location on a map</a></li>
<li class="chapter" data-level="7.16" data-path="resources.html"><a href="resources.html#leaflet-plots-1"><i class="fa fa-check"></i><b>7.16</b> Leaflet plots</a></li>
<li class="chapter" data-level="7.17" data-path="resources.html"><a href="resources.html#my-notes-4"><i class="fa fa-check"></i><b>7.17</b> My Notes</a><ul>
<li class="chapter" data-level="7.17.1" data-path="resources.html"><a href="resources.html#extracting-mymaps-data-1"><i class="fa fa-check"></i><b>7.17.1</b> Extracting mymaps data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tabs.html"><a href="tabs.html"><i class="fa fa-check"></i><b>8</b> Leaflet tabs</a></li>
<li class="divider"></li>
<li><a href="https://github.com/davan690/Creating-maps-in-R" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using GIS for invasive species research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wnp" class="section level1">
<h1><span class="header-section-number"> 4</span> Work in progress</h1>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">library</span>(tmap)    <span class="co"># for static and interactive maps</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="kw">library</span>(leaflet) <span class="co"># for interactive maps</span></a>
<a class="sourceLine" id="cb33-3" title="3"><span class="kw">library</span>(mapview) <span class="co"># for interactive maps</span></a>
<a class="sourceLine" id="cb33-4" title="4"><span class="kw">library</span>(ggplot2) <span class="co"># tidyverse data visualization package</span></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="kw">library</span>(shiny)   <span class="co"># for web applications</span></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="kw">library</span>(spData)</a>
<a class="sourceLine" id="cb33-7" title="7"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb33-8" title="8"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb33-9" title="9"><span class="kw">library</span>(bookdown)</a>
<a class="sourceLine" id="cb33-10" title="10"><span class="kw">library</span>(leaflet)</a>
<a class="sourceLine" id="cb33-11" title="11"><span class="kw">library</span>(leaflet.extras)</a>
<a class="sourceLine" id="cb33-12" title="12"><span class="kw">library</span>(geojsonio)</a>
<a class="sourceLine" id="cb33-13" title="13"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb33-14" title="14"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb33-15" title="15"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb33-16" title="16"><span class="kw">library</span>(spData)</a>
<a class="sourceLine" id="cb33-17" title="17"></a>
<a class="sourceLine" id="cb33-18" title="18"><span class="co"># library(spDataLarge)</span></a></code></pre></div>
<p>As I work through the steps I will add code and notes to this section of the <code>gitbook</code>. The first step I have done is to convert the downloaded my-maps data. To conbvert a my-maps online map into a tidy format we can work in I have done the following.</p>
<div id="static-maps" class="section level3">
<h3><span class="header-section-number">4.0.1</span> <a href="https://geocompr.robinlovelace.net/adv-map.html">Static maps</a></h3>
<p>Static maps are the most common type of visual output from geocomputation. Standard formats include .png and .pdf for raster and vector outputs respectively. Initially, static maps were the only type of maps that R could produce. Things advanced with the release of sp (see Pebesma and Bivand 2005) and many techniques for map making have been developed since then. However, despite the innovation of interactive mapping, static plotting was still the emphasis of geographic data visualisation in R a decade later (Cheshire and Lovelace 2015).</p>
<p>The generic plot() function is often the fastest way to create static maps from vector and raster spatial objects (see sections 2.2.3 and 2.3.2). Sometimes, simplicity and speed are priorities, especially during the development phase of a project, and this is where plot() excels. The base R approach is also extensible, with plot() offering dozens of arguments. Another approach is the grid package which allows low level control of static maps, as illustrated in Chapter 14 of Murrell (2016). This section focuses on tmap and emphasizes the important aesthetic and layout options.</p>
<p>tmap is a powerful and flexible map-making package with sensible defaults. It has a concise syntax that allows for the creation of attractive maps with minimal code which will be familiar to ggplot2 users. It also has the unique capability to generate static and interactive maps using the same code via tmap_mode(). Finally, it accepts a wider range of spatial classes (including raster objects) than alternatives such as ggplot2 (see the vignettes tmap-getstarted and tmap-changes-v2, as well as Tennekes (2018), for further documentation).</p>
<ol style="list-style-type: decimal">
<li>Download the <code>kmz</code> file from online.</li>
</ol>
<p>A <code>KMZ</code> file is just a zipped <code>KML</code> <a href="https://en.wikipedia.org/wiki/Keyhole_Markup_Language">file</a>, possibly with associated embedded images, icons, etc.</p>
<p>So any program that supports <code>KMZ</code> files internally unzips them to access their KML files. That may be a reason why many open source programs do not bother supporting KMZ once KML support is implemented: you just need to use an additional unzipping library of your choice, to convert the KMZ to KML. The linked posts give some JavaScript-based solutions for unzipping.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1">dat.loc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;C://Code/Creating-maps-in-R/data/invasive-species-location-research.kmz&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1">  <span class="co"># kml.dat &lt;- xml2::download_xml</span></a>
<a class="sourceLine" id="cb35-2" title="2">zipF&lt;-<span class="st"> &quot;C://Code/Creating-maps-in-R/data/invasive-species-location-research.kmz&quot;</span></a>
<a class="sourceLine" id="cb35-3" title="3">outDir &lt;-<span class="st"> &quot;C://Code/Creating-maps-in-R/data/unzipped-files/&quot;</span></a>
<a class="sourceLine" id="cb35-4" title="4"><span class="co"># unzip(zipF,exdir=&quot;C://Code/Creating-maps-in-R/data/unzipped-files/&quot;)</span></a>
<a class="sourceLine" id="cb35-5" title="5"></a>
<a class="sourceLine" id="cb35-6" title="6"><span class="co"># unzip(zipfile = &quot;C://Code/Creating-maps-in-R/data/Canberra-transit/images/invasive-species-location-research.kmz&quot;)</span></a>
<a class="sourceLine" id="cb35-7" title="7"><span class="co"># xml.locations &lt;- XML::xmlToDataFrame(&quot;./doc.kml&quot;)</span></a></code></pre></div>
<ul>
<li><code>exdir</code> defines the directory to extract files to. It will be created if not already available. If you don’t set <code>exdir</code>, <code>unzip</code> will just unzip it to your current working directory.</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1"><span class="co"># glimpse(xml.locations)</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="co"># str(xml.locations)</span></a></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1"><span class="co"># install dev version of ggmap</span></a>
<a class="sourceLine" id="cb37-2" title="2"><span class="co"># devtools::install_github(&quot;dkahle/ggmap&quot;)</span></a>
<a class="sourceLine" id="cb37-3" title="3"></a>
<a class="sourceLine" id="cb37-4" title="4"><span class="kw">library</span>(ggmap)</a></code></pre></div>
<pre><code>## Google&#39;s Terms of Service: https://cloud.google.com/maps-platform/terms/.</code></pre>
<pre><code>## Please cite ggmap if you use it! See citation(&quot;ggmap&quot;) for details.</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="co">#&gt; Loading required package: ggplot2</span></a>
<a class="sourceLine" id="cb40-2" title="2"><span class="co">#&gt; Google Maps API Terms of Service: http://developers.google.com/maps/terms.</span></a>
<a class="sourceLine" id="cb40-3" title="3"><span class="co">#&gt; Please cite ggmap if you use it: see citation(&quot;ggmap&quot;) for details.</span></a>
<a class="sourceLine" id="cb40-4" title="4"></a>
<a class="sourceLine" id="cb40-5" title="5"><span class="co"># # save api key</span></a>
<a class="sourceLine" id="cb40-6" title="6"><span class="co"># register_google(key = &quot;YOUR_API_KEY&quot;)</span></a>
<a class="sourceLine" id="cb40-7" title="7"><span class="co"># </span></a>
<a class="sourceLine" id="cb40-8" title="8"><span class="co"># # check if key is saved</span></a>
<a class="sourceLine" id="cb40-9" title="9"><span class="co"># has_goog_key()</span></a>
<a class="sourceLine" id="cb40-10" title="10"><span class="co"># #&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb40-11" title="11"><span class="co"># </span></a>
<a class="sourceLine" id="cb40-12" title="12"><span class="co"># ggmap(</span></a>
<a class="sourceLine" id="cb40-13" title="13"><span class="co">#   ggmap = get_map(</span></a>
<a class="sourceLine" id="cb40-14" title="14"><span class="co">#     &quot;Dayton&quot;,</span></a>
<a class="sourceLine" id="cb40-15" title="15"><span class="co">#      zoom = 13, scale = &quot;auto&quot;,</span></a>
<a class="sourceLine" id="cb40-16" title="16"><span class="co">#      maptype = &quot;satellite&quot;,</span></a>
<a class="sourceLine" id="cb40-17" title="17"><span class="co">#      source = &quot;google&quot;),</span></a>
<a class="sourceLine" id="cb40-18" title="18"><span class="co">#   extent = &quot;device&quot;,</span></a>
<a class="sourceLine" id="cb40-19" title="19"><span class="co">#   legend = &quot;topright&quot;</span></a>
<a class="sourceLine" id="cb40-20" title="20"><span class="co">#   )</span></a>
<a class="sourceLine" id="cb40-21" title="21"><span class="co">#&gt; Source : https://maps.googleapis.com/maps/api/staticmap?center=Dayton&amp;zoom=13&amp;size=640x640&amp;scale=2&amp;maptype=satellite&amp;language=en-EN&amp;key=AIzaSyBmXB5S5_NIqo6lAGH-_U-TbhrQjhOsplU</span></a>
<a class="sourceLine" id="cb40-22" title="22"><span class="co">#&gt; Source : https://maps.googleapis.com/maps/api/geocode/json?address=Dayton&amp;key=AIzaSyBmXB5S5_NIqo6lAGH-_U-TbhrQjhOsplU</span></a></code></pre></div>
</div>
<div id="my-notes" class="section level2">
<h2><span class="header-section-number">4.1</span> My notes</h2>
<p>These resources are very basic but they may be helpful for me later.</p>
<ul>
<li>Found in <a href="https://stackoverflow.com/questions/35867793/using-kmz-file-in-leaflet-map">stack comments here</a></li>
</ul>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<pre><code>## -- Attaching packages ---------------------------------------------- tidyverse 1.2.1 --</code></pre>
<pre><code>## v tibble  2.1.3     v purrr   0.3.2
## v tidyr   0.8.3     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.4.0</code></pre>
<pre><code>## -- Conflicts ------------------------------------------------- tidyverse_conflicts() --
## x tidyr::extract() masks raster::extract()
## x dplyr::filter()  masks stats::filter()
## x dplyr::lag()     masks stats::lag()
## x raster::select() masks dplyr::select()</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">library</span>(kableExtra)</a></code></pre></div>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1"><span class="kw">source</span>(<span class="st">&quot;./R/kml_to_tidy.R&quot;</span>)</a></code></pre></div>
<pre><code>## Multiple layers are present in data source C:\Code\Creating-maps-in-R\data\invasive-species-NAH-research.kml, reading layer `Hollyford&#39;.
## Use `st_layers&#39; to list all layer names and their type in a data source.
## Set the `layer&#39; argument in `st_read&#39; to read a particular layer.</code></pre>
<pre><code>## Warning in evalq((function (..., call. = TRUE, immediate. = FALSE,
## noBreaks. = FALSE, : automatically selected the first layer in a data
## source containing more than one.</code></pre>
<pre><code>## Reading layer `Hollyford&#39; from data source `C:\Code\Creating-maps-in-R\data\invasive-species-NAH-research.kml&#39; using driver `KML&#39;
## Simple feature collection with 10 features and 2 fields
## geometry type:  GEOMETRY
## dimension:      XYZ
## bbox:           xmin: 167.9963 ymin: -45.06019 xmax: 168.1392 ymax: -44.70935
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs
## Observations: 10
## Variables: 3
## $ Name        &lt;fct&gt; Gunns Camp, Choqenout and Ruscoe 2000, Hollyford V...
## $ Description &lt;fct&gt; &quot;&quot;, &quot;Eglinton Valley&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,...
## $ geometry    &lt;GEOMETRY [°]&gt; POINT Z (168.1392 -44.76039 0), POINT Z (...</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">kable</span>(tidy.kat, <span class="dt">format =</span> <span class="st">&quot;markdown&quot;</span>)</a></code></pre></div>
<table>
<colgroup>
<col width="14%" />
<col width="23%" />
<col width="14%" />
<col width="22%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">folder</th>
<th align="left">name</th>
<th align="left">description</th>
<th align="left">styleUrl</th>
<th align="right">longitude</th>
<th align="right">latitude</th>
<th align="right">altitude</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Hollyford</td>
<td align="left">Gunns Camp</td>
<td align="left">NA</td>
<td align="left">#icon-1899-0288D1-nodesc</td>
<td align="right">168.1392</td>
<td align="right">-44.76039</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Hollyford</td>
<td align="left">Choqenout and Ruscoe 2000</td>
<td align="left">Eglinton Valley</td>
<td align="left">#icon-1899-0288D1</td>
<td align="right">167.9963</td>
<td align="right">-45.06019</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Hollyford</td>
<td align="left">Hollyford Valley Lookout</td>
<td align="left">NA</td>
<td align="left">#icon-1899-0288D1-nodesc</td>
<td align="right">168.1050</td>
<td align="right">-44.80905</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Hollyford</td>
<td align="left">Hollyford Airstrip</td>
<td align="left">NA</td>
<td align="left">#icon-1899-0288D1-nodesc</td>
<td align="right">168.1337</td>
<td align="right">-44.73744</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Hollyford</td>
<td align="left">Point 9</td>
<td align="left">NA</td>
<td align="left">#icon-1899-0288D1-nodesc</td>
<td align="right">168.1262</td>
<td align="right">-44.79766</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Hollyford</td>
<td align="left">Point 10</td>
<td align="left">x = 10, y = 250</td>
<td align="left">#icon-1899-0288D1</td>
<td align="right">168.0794</td>
<td align="right">-44.90247</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Eglinton Valley</td>
<td align="left">MR1</td>
<td align="left">NA</td>
<td align="left">#icon-1899-F9A825-nodesc</td>
<td align="right">168.0776</td>
<td align="right">-44.89081</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Eglinton Valley</td>
<td align="left">M1</td>
<td align="left">NA</td>
<td align="left">#icon-1899-FBC02D-nodesc</td>
<td align="right">168.1005</td>
<td align="right">-44.85371</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Eglinton Valley</td>
<td align="left">M1</td>
<td align="left">NA</td>
<td align="left">#icon-1899-FBC02D-nodesc</td>
<td align="right">168.0748</td>
<td align="right">-44.89257</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Eglinton Valley</td>
<td align="left">R1</td>
<td align="left">NA</td>
<td align="left">#icon-1899-000000-nodesc</td>
<td align="right">168.0968</td>
<td align="right">-44.85569</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Eglinton Valley</td>
<td align="left">MR1</td>
<td align="left">NA</td>
<td align="left">#icon-1899-FBC02D-nodesc</td>
<td align="right">168.0995</td>
<td align="right">-44.85768</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Eglinton Valley</td>
<td align="left">R1</td>
<td align="left">NA</td>
<td align="left">#icon-1899-000000-nodesc</td>
<td align="right">168.0789</td>
<td align="right">-44.89277</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div id="building-maps-for-manuscripts" class="section level2">
<h2><span class="header-section-number">4.2</span> Building maps for manuscripts</h2>
<p>These starting resources have come from <code>chapter-8</code> of the geocomp book. To make this quick I have used the <code>rmarkdown</code> function <code>render</code> to create a <code>r</code> file that can then be sourced here for building my data specific maps.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1"><span class="co"># rmarkdown::render(&quot;./03-Work-In-Progress.Rmd&quot;)</span></a>
<a class="sourceLine" id="cb53-2" title="2"><span class="co"># knitr::purl(&quot;./03-Work-In-Progress.Rmd&quot;, &quot;./R/03-Work-In-Progress.R&quot;, documentation = 2)</span></a></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1"><span class="kw">source</span>(<span class="st">&quot;./R/03-Work-In-Progress.R&quot;</span>, <span class="dt">echo =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-1.png" width="672" /><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.29, 0.29, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.29, 0.29, 0.29, 0.29, 0.29, 0.29, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.29, 0.29, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-3.png" width="672" /></p>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.47, 0.47, 0.47, 0.47, 0.47, 0.47. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.47, 0.47, 0.47, 0.47, 0.47. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.47, 0.47, 0.47, 0.47, 0.47. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.47, 0.47, 0.47, 0.47, 0.47. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-4.png" width="672" /><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-5.png" width="672" /><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-6.png" width="672" /></p>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-7.png" width="672" /></p>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-8.png" width="672" /></p>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.
## Legend labels were too wide. The labels have been resized to 0.44, 0.29, 0.29, 0.29, 0.29. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-9.png" width="672" /><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-8-10.png" width="672" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" title="1"><span class="kw">glimpse</span>(nz)</a></code></pre></div>
<pre><code>## Observations: 16
## Variables: 7
## $ Name          &lt;chr&gt; &quot;Northland&quot;, &quot;Auckland&quot;, &quot;Waikato&quot;, &quot;Bay of Plen...
## $ Island        &lt;chr&gt; &quot;North&quot;, &quot;North&quot;, &quot;North&quot;, &quot;North&quot;, &quot;North&quot;, &quot;No...
## $ Land_area     &lt;dbl&gt; 12500.5611, 4941.5726, 23900.0364, 12071.1447, 8...
## $ Population    &lt;dbl&gt; 175500, 1657200, 460100, 299900, 48500, 164000, ...
## $ Median_income &lt;int&gt; 23400, 29600, 27900, 26200, 24400, 26100, 29100,...
## $ Sex_ratio     &lt;dbl&gt; 0.9424532, 0.9442858, 0.9520500, 0.9280391, 0.93...
## $ geom          &lt;MULTIPOLYGON [m]&gt; MULTIPOLYGON (((1745493 600..., MUL...</code></pre>
<div id="first-tmap-attempt" class="section level3">
<h3><span class="header-section-number">4.2.1</span> First <code>tmap</code> attempt</h3>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1">ma1 =<span class="st"> </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb67-2" title="2">ma2 =<span class="st"> </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>)</a>
<a class="sourceLine" id="cb67-3" title="3">ma3 =<span class="st"> </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span><span class="kw">tm_borders</span>(<span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb67-4" title="4">ma4 =<span class="st"> </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span><span class="kw">tm_borders</span>(<span class="dt">lwd =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb67-5" title="5">ma5 =<span class="st"> </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span><span class="kw">tm_borders</span>(<span class="dt">lty =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb67-6" title="6">ma6 =<span class="st"> </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb67-7" title="7"><span class="st">  </span><span class="kw">tm_borders</span>(<span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb67-8" title="8"><span class="kw">tmap_arrange</span>(ma1, ma2, ma3, ma4, ma5, ma6)</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div id="grey-background" class="section level4">
<h4><span class="header-section-number">4.2.1.1</span> Grey background</h4>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" title="1"><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb68-2" title="2"><span class="st">        </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>)</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="boarders" class="section level4">
<h4><span class="header-section-number">4.2.1.2</span> Boarders</h4>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" title="1"><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-2" title="2"><span class="st">  </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb69-3" title="3"><span class="st">   </span><span class="kw">tm_borders</span>(<span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="title-and-legend" class="section level4">
<h4><span class="header-section-number">4.2.1.3</span> Title and legend</h4>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">legend_title &lt;-<span class="st"> </span><span class="kw">expression</span>(<span class="st">&quot;Area (km&quot;</span><span class="op">^</span><span class="dv">2</span><span class="op">*</span><span class="st">&quot;)&quot;</span>)</a>
<a class="sourceLine" id="cb70-2" title="2"></a>
<a class="sourceLine" id="cb70-3" title="3"><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-4" title="4"><span class="st">  </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb70-5" title="5"><span class="st">   </span><span class="kw">tm_borders</span>(<span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-6" title="6"><span class="st">  </span><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-7" title="7"><span class="st">    </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;Land_area&quot;</span>, <span class="dt">title =</span> legend_title) <span class="op">+</span><span class="st"> </span><span class="kw">tm_borders</span>()</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="north-arrow" class="section level4">
<h4><span class="header-section-number">4.2.1.4</span> North arrow</h4>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1"><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-2" title="2"><span class="st">  </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb71-3" title="3"><span class="st">   </span><span class="kw">tm_borders</span>(<span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb71-4" title="4"><span class="st">    </span><span class="kw">tm_compass</span>(<span class="dt">type =</span> <span class="st">&quot;8star&quot;</span>, <span class="dt">position =</span> <span class="kw">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;top&quot;</span>))</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="scale" class="section level4">
<h4><span class="header-section-number">4.2.1.5</span> Scale</h4>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1"><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb72-2" title="2"><span class="st">  </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb72-3" title="3"><span class="st">   </span><span class="kw">tm_borders</span>(<span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb72-4" title="4"><span class="st">  </span><span class="kw">tm_compass</span>(<span class="dt">type =</span> <span class="st">&quot;8star&quot;</span>, <span class="dt">position =</span> <span class="kw">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;top&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb72-5" title="5"><span class="st">  </span><span class="kw">tm_scale_bar</span>(<span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>), <span class="dt">text.size =</span> <span class="dv">1</span>)</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="black-and-white" class="section level4">
<h4><span class="header-section-number">4.2.1.6</span> Black and white</h4>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1"><span class="kw">tm_shape</span>(nz) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="st">  </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb73-3" title="3"><span class="st">    </span><span class="kw">tm_borders</span>(<span class="dt">lty =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="03-Work-in-Progress_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>

<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1"><span class="kw">library</span>(tmap)    <span class="co"># for static and interactive maps</span></a>
<a class="sourceLine" id="cb74-2" title="2"><span class="kw">library</span>(leaflet) <span class="co"># for interactive maps</span></a>
<a class="sourceLine" id="cb74-3" title="3"><span class="kw">library</span>(mapview) <span class="co"># for interactive maps</span></a>
<a class="sourceLine" id="cb74-4" title="4"><span class="kw">library</span>(ggplot2) <span class="co"># tidyverse data visualization package</span></a>
<a class="sourceLine" id="cb74-5" title="5"><span class="kw">library</span>(shiny)   <span class="co"># for web applications</span></a>
<a class="sourceLine" id="cb74-6" title="6"><span class="kw">library</span>(spData)</a>
<a class="sourceLine" id="cb74-7" title="7"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb74-8" title="8"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb74-9" title="9"><span class="kw">library</span>(bookdown)</a>
<a class="sourceLine" id="cb74-10" title="10"><span class="kw">library</span>(leaflet)</a>
<a class="sourceLine" id="cb74-11" title="11"><span class="kw">library</span>(leaflet.extras)</a>
<a class="sourceLine" id="cb74-12" title="12"><span class="kw">library</span>(geojsonio)</a>
<a class="sourceLine" id="cb74-13" title="13"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb74-14" title="14"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb74-15" title="15"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb74-16" title="16"><span class="kw">library</span>(spData)</a>
<a class="sourceLine" id="cb74-17" title="17"><span class="kw">library</span>(kableExtra)</a>
<a class="sourceLine" id="cb74-18" title="18"><span class="co"># library(spDataLarge)</span></a></code></pre></div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="divingin.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="contentadd.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["GIS-bookdown.pdf", "GIS-bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
